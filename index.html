<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>minicron by jamesrwhite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">minicron</h1>
      <h2 class="project-tagline">A system to manage and monitor cron jobs.</h2>
      <a href="https://github.com/jamesrwhite/minicron" class="btn">View on GitHub</a>
      <a href="https://github.com/jamesrwhite/minicron/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jamesrwhite/minicron/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="minicron" class="anchor" href="#minicron" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>minicron</h1>

<p><a href="http://travis-ci.org/jamesrwhite/minicron"><img src="http://img.shields.io/travis/jamesrwhite/minicron.svg" alt="Build Status"></a>
<a href="https://codeclimate.com/github/jamesrwhite/minicron"><img src="http://img.shields.io/codeclimate/github/jamesrwhite/minicron.svg" alt="Code Climate"></a>
<a href="https://gemnasium.com/jamesrwhite/minicron"><img src="http://img.shields.io/gemnasium/jamesrwhite/minicron.svg" alt="Dependency Status"></a>
<a href="http://inch-ci.org/github/jamesrwhite/minicron"><img src="http://inch-ci.org/github/jamesrwhite/minicron.png" alt="Inline docs"></a></p>

<p>minicron aims to complement <code>cron</code> by making it easier to manage and monitor cron jobs, it can largely be
thought of as two components that interact together, the CLI and the Hub. The CLI is what is installed on your
server(s) and executes your cron command and reports the status back to the Hub. The Hub is the central point
where data from one or many instances of the CLI is received and stored in a database. The Hub also provides
a web interface to the data and makes it easy to manage your cron jobs.</p>

<ul>
<li><a href="#background">Background</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#roadmap">Roadmap</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#support">Support</a></li>
<li><a href="#credit">Credit</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="screenshots" class="anchor" href="#screenshots" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Screenshots</h2>

<p><img src="http://f.cl.ly/items/1k1h3n2A3Z3P3v2o0733/Image%202014-04-15%20at%2012.50.56%20am.png" height="175">
<img src="http://f.cl.ly/items/0c27341m2l1E230B0q1l/Image%202014-04-15%20at%2012.40.42%20am.png" height="175">
<img src="http://f.cl.ly/items/0Y2O0P0j012s3C3t3a3E/Image%202014-04-15%20at%2012.39.19%20am.png" height="175">
<img src="http://f.cl.ly/items/2R1f2m350W46423c220D/Image%202014-04-15%20at%2012.32.41%20am.png" height="175"></p>

<h2>
<a id="background" class="anchor" href="#background" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background</h2>

<p>I initially developed minicron as part of my dissertation at university. The inspiration for developing minicron comes
largely from my experience and frustrations using cron, in particular my time spent working at <a href="http://www.miniclip.com">Miniclip</a>
(which is where the name comes from, miniclip.. minicron, get it?) where the management and monitoring of cron jobs at times proved
to be tricky!</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Web UI

<ul>
<li>CRUD for cron jobs using ssh</li>
<li>GUI for cron schedule create/read/update</li>
<li>View realtime output/status as jobs run</li>
<li>Historical data for all job executions</li>
</ul>
</li>
<li>Alerts when jobs executions are missed or fail via:

<ul>
<li>Email</li>
<li>SMS (<a href="https://www.twilio.com">using Twilio</a>)</li>
<li>
<a href="http://www.pagerduty.com">PagerDuty</a> (SMS, Phone, Mobile Push Notifications and Email)</li>
<li><a href="https://aws.amazon.com/sns">Amazon Simple Notification Service</a></li>
<li><a href="https://slack.com">Slack</a></li>
</ul>
</li>
</ul>

<p>Lots more is planned for the future, see <a href="https://github.com/jamesrwhite/minicron/issues?state=open">open issues</a> or if
you don't see the feature you want there add it!</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<h4>
<a id="os" class="anchor" href="#os" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OS</h4>

<p><em>Should</em> run on OSX and any Linux/BSD based OS.</p>

<h4>
<a id="database" class="anchor" href="#database" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database</h4>

<p><strong>Default</strong></p>

<ul>
<li>SQLite</li>
</ul>

<p><strong>Also Supported</strong></p>

<ul>
<li>MySQL</li>
<li>PostgreSQL</li>
</ul>

<h4>
<a id="web-server--reverse-proxy" class="anchor" href="#web-server--reverse-proxy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Web Server / Reverse Proxy</h4>

<h4>
<a id="nginx" class="anchor" href="#nginx" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Nginx</h4>

<p>A simple <a href="config/nginx.conf">example config</a> for nginx is provided.</p>

<h4>
<a id="apache" class="anchor" href="#apache" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apache</h4>

<p>If you're using apache as your reverse proxy you need to ensure you have the following modules installed:</p>

<ul>
<li><code>libapache2-mod-proxy-html</code></li>
<li><code>apache2-utils</code></li>
</ul>

<p>Run the following to enable them and then restart apache
<code>a2enmod proxy proxy_html proxy_http xml2enc</code></p>

<p>A simple <a href="config/apache.conf">example config</a> for apache is provided.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>minicron is currently under heavy development and I make no gurantees about stability while it remains pre 1.0, as such
I would not recommend that you use this in production but I encourage you to give it a try in a non critical environment
and help me to improve it and work towards the first stable release.</p>

<p>minicron used to be available to install via <a href="https://rubygems.org/gems/minicron">Ruby Gems</a>, all future releases (&gt;= 0.8)
will no longer be published there and made available as <a href="https://github.com/jamesrwhite/minicron/releases">ZIP file releases</a>
instead.</p>

<h4>
<a id="recommended" class="anchor" href="#recommended" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Recommended</h4>

<ol>
<li><p>First check you meet the <a href="#requirements">requirements</a></p></li>
<li>
<p>Use the handy <a href="install.sh">install script</a> or <a href="https://github.com/jamesrwhite/minicron/releases/tag/v0.9.4">grab the latest</a> zip/tarball
for your OS and install manually.</p>

<pre><code>bash -c "$(curl -sSL https://raw.githubusercontent.com/jamesrwhite/minicron/master/install.sh)"
</code></pre>

<p>..or <a href="https://github.com/jamesrwhite/minicron-build">build it yourself</a>
if you're feeling adventurous!</p>
</li>
<li>
<p>Set your database configuration options in <code>/etc/minicron.toml</code>, you can use the
<a href="config/minicron.toml">minicron.toml</a> as a guide on what options
are configurable</p>

<blockquote>
<p><strong>WARNING</strong></p>

<p>the step below will drop any existing tables in the configured database and create new ones i.e:</p>

<div class="highlight highlight-source-sql"><pre><span class="pl-k">DROP</span> <span class="pl-k">TABLE</span> IF EXISTS jobs; CREATE TABLE jobs ..</pre></div>
</blockquote>
</li>
<li><p>You can then <code>minicron db setup</code> to create the database schema and run any pending migrations.</p></li>
<li><p>Done! See the usage section below for more details on how to use minicron now you have it installed</p></li>
</ol>

<h4>
<a id="docker" class="anchor" href="#docker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Docker</h4>

<p>You can also run minicron in a docker container, see below for instructions how:</p>

<div class="highlight highlight-source-shell"><pre>docker pull jamesrwhite/minicron:0.9.4
minicron_container_id=<span class="pl-s"><span class="pl-pds">$(</span>docker run -d -p 127.0.0.1:9292:9292 -i -t jamesrwhite/minicron:0.9.4<span class="pl-pds">)</span></span>
docker <span class="pl-c1">exec</span> <span class="pl-smi">$minicron_container_id</span> minicron db setup
docker <span class="pl-c1">exec</span> <span class="pl-smi">$minicron_container_id</span> minicron server start</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<h4>
<a id="run-a-command" class="anchor" href="#run-a-command" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run a command</h4>

<div class="highlight highlight-source-shell"><pre>minicron run <span class="pl-s"><span class="pl-pds">'</span>mysqldump db &gt; backup.sql<span class="pl-pds">'</span></span></pre></div>

<p>The global <code>--verbose</code> option can also be passed to the <code>run</code> argument like so</p>

<div class="highlight highlight-source-shell"><pre>minicron run --verbose ls</pre></div>

<p>You can also run a command in 'dry run' mode to test if it works without sending the output to the server.</p>

<div class="highlight highlight-source-shell"><pre>minicron run --dry-run <span class="pl-s"><span class="pl-pds">'</span>zip -r backup.zip website<span class="pl-pds">'</span></span></pre></div>

<p>for further information see <code>minicron help run</code>.</p>

<h4>
<a id="get-help" class="anchor" href="#get-help" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get help</h4>

<p>Running <code>minicron</code> with no arguments is an alias to running <code>minicron help</code>, <code>minicron -h</code> or <code>minicron --help</code>.
You can also use the help argument to get information on any command as shown above in the run a command section
or alternatively you can pass the <code>-h</code> or <code>--help</code> options like so <code>minicron run -h</code>.</p>

<h4>
<a id="server" class="anchor" href="#server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Server</h4>

<p>To launch the server (aka the Hub) run</p>

<div class="highlight highlight-source-shell"><pre>minicron server start</pre></div>

<p>by default it will bind to port 9292 on the host 0.0.0.0 but this can be configured by the command line
arguments <code>--host</code> <code>--port</code> and <code>--path</code> or in the config file.</p>

<p>By default the server will run as a daemon with its process id stored in <code>/tmp/minicron.pid</code>
you can also use the <code>stop</code>, <code>restart</code> and <code>status</code> commands to control the server.</p>

<p>To run the server in debug mode, so you can see its output and any errors you can pass the <code>--debug</code>
option.</p>

<p>See <a href="config/nginx.conf">nginx.conf</a> for an example of
how to run minicron behind a reverse proxy.</p>

<h4>
<a id="connecting-to-a-host-via-ssh" class="anchor" href="#connecting-to-a-host-via-ssh" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Connecting to a host via SSH</h4>

<p>To be able to perform CRUD operations on the crontab minicron needs to connect via SSH to the host.
When you set up a host minicron automatically creates a public/private key pair for you and stores it
in <code>~/.ssh</code> on the host the minicron server is being run on using the naming schema <code>minicron_host_*HOST_ID*_rsa(.pub)</code>.
You will then to add the public key into the remote hosts authorized_keys file.</p>

<h4>
<a id="version" class="anchor" href="#version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version</h4>

<p>Like many command line programs minicron will show its version number when the global options <code>-v</code>
or <code>--version</code> are passed to the CLI.</p>

<h4>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h4>

<p>Some configuration options can be passed in manually but the recommend way to configure minicron is through the use
of a config file. You can specify the path to the file using the <code>--config</code> global option. The file is expected
to be in the <a href="https://github.com/mojombo/toml">toml</a> format. The default options are specified in the
<a href="config/minicron.toml">minicron.toml</a>
file and minicron will parse a config located in <code>/etc/minicron.toml</code> if it exists. Options specified via
the command line will take precedence over those taken from a config file.</p>

<h2>
<a id="security" class="anchor" href="#security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Security</h2>

<p>As mentioned previously minicron is still under development and as such is missing some essential features as far as
security is concerned. For example authentication still needs to be added.</p>

<blockquote>
<p><strong>It is not recommended that you allow your minicron host to be accessible via the public internet!</strong></p>
</blockquote>

<p>Obviously without authentication anyone who knew the address of your minicron host would be able to set up
a potentially malicious job on one of your servers! Future versions may be secure enough to expose publicly but personally
I still would not recommend it, minicron is designed to be an internal tool and should be behind a firewall that only allows
connections from an internal network and/or a VPN.</p>

<h2>
<a id="versioning" class="anchor" href="#versioning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Versioning</h2>

<p>All stable releases will follow the <a href="http://semver.org/">semantic versioning</a> guidelines. Until 1.0 hits I will try
to document any breaking changes in the release descriptions but you should proceed with caution before relying
on anything etc etc</p>

<p>Releases will be numbered with the following format:</p>

<p><code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code></p>

<p>Based on the following guidelines:</p>

<ul>
<li>A new <em>major</em> release indicates a large change where backwards compatibility is broken.</li>
<li>A new <em>minor</em> release indicates a normal change that maintains backwards compatibility.</li>
<li>A new <em>patch</em> release indicates a bugfix or small change which does not affect compatibility.</li>
</ul>

<h2>
<a id="roadmap" class="anchor" href="#roadmap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Roadmap</h2>

<p>I'm going to work out a proper roadmap for the epic journey towards 1.0 in a few weeks when I have more time to focus
on this but until then some rough thoughts in no real order..</p>

<ul>
<li>More robust handling of failure in various places/situations</li>
<li>Better test coverage for core features</li>
<li>More 3rd party alerting integrations</li>
<li>REST API</li>
<li>Revision control for changes and acitvity tracking</li>
<li>Better experience on mobile/tablet</li>
<li>Improved security through authentication and permissions</li>
<li>Better configuration management</li>
<li>Per job configs? Not sure exactly how this would work but it would be handy
<a href="https://github.com/jamesrwhite/minicron/issues/82">#82</a>
</li>
<li>Better performance when lots of data exists in the system (pagination, lazy loading etc)</li>
<li>UI improvements, it's just tweaked bootstrap 3 at the moment</li>
<li>Various other improvements that hopefully already have issues assigned for them..</li>
</ul>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Feedback and pull requests are welcome, please see <a href="CONTRIBUTING.md">CONTRIBUTING.md</a>
for more info.</p>

<p>Areas that I would love some help with:</p>

<ul>
<li>Any of the unassigned <a href="https://github.com/jamesrwhite/minicron/issues?state=open">issues here</a>.</li>
<li>General testing of the system, let me know what you think and create issues for any bugs you find!</li>
<li>Tests!!</li>
<li>Validation and error handling improvements</li>
<li>Documentation improvements.</li>
<li>Look for '<a href="https://github.com/jamesrwhite/minicron/search?q=TODO%3A">TODO:</a>' notices littered around the code,
I'm trying to convert them all to issues but there are a lot..</li>
<li>Code refactoring, I had a deadline to meet for the initial versions so some parts are a tad rushed</li>
<li>UI improvements</li>
</ul>

<h2>
<a id="support" class="anchor" href="#support" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support</h2>

<p>Where possible I will try and provide support for minicron, you can get in touch with me via:</p>

<ul>
<li>Twitter: <a href="https://twitter.com/jamesrwhite">@jamesrwhite</a>
or <a href="https://twitter.com/minicron_dev">@minicron_dev</a>
</li>
<li>Email: <a href="mailto:dev.jameswhite+minicron@gmail.com">dev.jameswhite+minicron@gmail.com</a>
</li>
</ul>

<p>Or feel free to open an issue and I'll do my best to help.</p>

<h2>
<a id="credit" class="anchor" href="#credit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credit</h2>

<p>minicron makes use of a <em>lot</em> of awesome open source projects that have saved me a lot of time in its development.
I started out trying to list all of them but it was taking way too much time so check out the dependencies in
<a href="minicron.gemspec">minicron.gemspec</a> and
<a href="lib/minicron/hub/app.rb">app.rb</a>.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>minicron is licensed under the GPL v3, <a href="LICENSE">see here for the full license</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jamesrwhite/minicron">minicron</a> is maintained by <a href="https://github.com/jamesrwhite">jamesrwhite</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-49762101-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
